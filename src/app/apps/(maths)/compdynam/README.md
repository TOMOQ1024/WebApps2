# CompDynam

複素関数の反復計算を可視化するページ．

リンク: [https://www.tomoq.net/apps/compdynam](https://www.tomoq.net/apps/compdynam)

![スクリーンショット](./ss.png)

## 操作方法(共通)

- 左下のフォームで反復回数と初期値，関数を設定する(入力例は[こちら](#入力ガイド))
- パレットアイコンのボタンで描画モードを切り替える
- 家アイコンのボタンで表示領域をリセットする

## 操作方法(PC)

- キャンバス上でのマウスドラッグで移動
- キャンバス上でのスクロールでズームイン・アウト

## 操作方法(スマホ)

- キャンバス上でのタッチドラッグで移動
- キャンバス上でのピンチでズームイン・アウト

## 入力ガイド

初期値や関数で使用できる入力は以下の通り．

### 基本的な変数と定数

- `z` - 複素変数
- `c` - パラメータ（通常は複素定数）
- `t` - 時間パラメータ
- `i` - 虚数単位
- `\pi ` または `π` - 円周率
- `e` - 自然対数の底

### 基本演算

- `+`, `-`, `*`, `/` - 四則演算
- `^` - べき乗
- `|z|` - 絶対値（複素数の大きさ）
- `Re`，`Im` - 実部，虚部
- `Arg` - 偏角（値域：$[-\pi, \pi)$）
- `conj` または `\overline z` - 複素共役

### 複素関数

- `sin`, `cos`, `tan` - 三角関数
- `sinh`, `cosh`, `tanh` - 双曲線関数
- `exp` - 指数関数
- `Log` - 自然対数関数（虚部範囲：$[-\pi, \pi)$）

## 今後の実装予定

- `z^-z` の入力が `cpow(z, -z)` に変換される問題を解決する(期待する結果：`-`の後に何も入力されていないというエラー)

- `2\operatorname{Arg}z` の入力が `vec2(2.0, 0.0)` に変換される問題を解決する(期待する結果：`cprod(vec2(2.0, 0.0), carg(z))`)

- 座標を確認できるようにする

- クエリパラメータから関数と初期値，描画範囲(GraphMgr)を設定できるようにする

- 多倍精度浮動小数点数の実装([前提条件 🔗](/README.md#今後の実装予定))

- GPGPU の実装([前提条件 🔗](/README.md#今後の実装予定))

  初期からの実装(1 フレームごとに指定した反復回数分計算する方法)に加えて，キャンバスと同じサイズのバッファ(符号付き浮動小数点)を別途 2 つ用意して，ダブルバッファリングの要領でより小さな負荷で計算できる方法を実装する．`ControlButtons`の計算モード切り替えボタンを押すと，計算モードが切り替わるようにする．
